CREATE TABLE campus (id INT AUTO_INCREMENT NOT NULL, nome VARCHAR(25) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE etapa (id INT AUTO_INCREMENT NOT NULL, semestre_id INT DEFAULT NULL, etapa_tipo_id INT DEFAULT NULL, nome VARCHAR(25) NOT NULL, dataInicio DATETIME NOT NULL, dataFim DATETIME NOT NULL, peso DOUBLE PRECISION NOT NULL, ordem INT NOT NULL, enviarEmailAdministrador TINYINT(1) NOT NULL, enviarEmailBanca TINYINT(1) NOT NULL, enviarEmailOrientador TINYINT(1) NOT NULL, INDEX IDX_2F32B1C45577AFDB (semestre_id), INDEX IDX_2F32B1C4AFA29CBB (etapa_tipo_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE etapa_tipo (id INT AUTO_INCREMENT NOT NULL, nome VARCHAR(25) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE semestre (id INT AUTO_INCREMENT NOT NULL, campus_id INT DEFAULT NULL, nome VARCHAR(25) NOT NULL, dataInicio DATETIME NOT NULL, dataFim DATETIME NOT NULL, tipo INT NOT NULL, INDEX IDX_71688FBCAF5D55E1 (campus_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE etapa ADD CONSTRAINT FK_2F32B1C45577AFDB FOREIGN KEY (semestre_id) REFERENCES semestre (id);
ALTER TABLE etapa ADD CONSTRAINT FK_2F32B1C4AFA29CBB FOREIGN KEY (etapa_tipo_id) REFERENCES etapa_tipo (id);
ALTER TABLE semestre ADD CONSTRAINT FK_71688FBCAF5D55E1 FOREIGN KEY (campus_id) REFERENCES campus (id);
